<main class="flex flex-col min-h-screen items-start pt-6 pb-6 px-4 sm:px-6 md:px-12 lg:px-24 relative bg-white">
  <div class="relative w-full max-w-7xl mx-auto">
    <section class="relative w-full mb-8">
      <div class="flex flex-col items-center w-full mb-8 md:mb-12">
        <%= image_tag "https://c.animaapp.com/mhxfchwloC97ck/img/container-6.svg",
          class: "w-20 h-20 md:w-28 md:h-28 lg:w-[120px] lg:h-[120px] mb-4",
          alt: "Family Tasks Logo",
          role: "img" %>
        <h1 class="[font-family:'Inter',Helvetica] font-normal text-neutral-950 text-base md:text-lg text-center tracking-[-0.31px] leading-6 mb-2">
          Family Tasks
        </h1>
        <p class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-lg md:text-xl text-center tracking-[-0.45px] leading-7">
          Votre assistant familial intelligent
        </p>
      </div>

      <section class="grid grid-cols-1 lg:grid-cols-2 gap-6 md:gap-8 w-full mb-8">
        <!-- Cr√©er ma famille -->
        <article class="flex flex-col w-full items-start gap-8 md:gap-12 p-6 md:p-8 bg-white rounded-[14px] border border-solid border-[#0000001a]">
          <h2 class="relative w-full">
            <span class="block [font-family:'Inter',Helvetica] font-normal text-neutral-950 text-base tracking-[-0.31px] leading-6">
              Cr√©er ma famille
            </span>
          </h2>

          <%= form_with model: @family, local: true,
              html: {
                id: "create-family-form",
                class: "flex flex-col w-full items-start gap-5 relative",
                "aria-label": "Formulaire de cr√©ation de famille"
              } do |f| %>

            <div class="flex flex-col items-start gap-2 relative self-stretch w-full">
              <%= f.label :name, class: "relative self-stretch w-full block" do %>
                <span class="block [font-family:'Inter',Helvetica] font-normal text-[#354152] text-base tracking-[-0.31px] leading-6">
                  Nom de la famille *
                </span>
              <% end %>
              <div class="flex h-12 items-center px-4 py-0 relative self-stretch w-full bg-white rounded-[10px] overflow-hidden border border-solid border-[#d0d5db]">
                <%= f.text_field :name,
                    placeholder: "Famille Dupont",
                    required: true,
                    class: "relative w-full text-[#0a0a0a80] leading-[normal] [font-family:'Inter',Helvetica] font-normal text-base tracking-[-0.31px] whitespace-nowrap bg-transparent border-0 outline-none" %>
              </div>
            </div>

            <% if current_user %>
              <div class="flex flex-col items-start gap-2 relative self-stretch w-full">
                <%= f.label :email, "Adresse mail", class: "relative self-stretch w-full block" do %>
                  <span class="block [font-family:'Inter',Helvetica] font-normal text-[#354152] text-base tracking-[-0.31px] leading-6">
                    Adresse mail *
                  </span>
                <% end %>
                <div class="flex h-12 items-center px-4 py-0 relative self-stretch w-full bg-white rounded-[10px] overflow-hidden border border-solid border-[#d0d5db]">
                  <input type="email"
                    value="<%= current_user.email %>"
                    disabled
                    class="relative w-full [font-family:'Inter',Helvetica] font-normal text-[#0a0a0a80] text-base tracking-[-0.31px] leading-[normal] whitespace-nowrap bg-transparent border-0 outline-none" />
                </div>
              </div>
            <% end %>

            <div class="flex flex-col items-start gap-2 relative self-stretch w-full">
              <%= f.label :zipcode, "Code postal", class: "relative self-stretch w-full block" do %>
                <span class="block [font-family:'Inter',Helvetica] font-normal text-[#354152] text-base tracking-[-0.31px] leading-6">
                  Code postal *
                </span>
              <% end %>
              <div class="flex h-12 items-center px-4 py-0 relative self-stretch w-full bg-white rounded-[10px] overflow-hidden border border-solid border-[#d0d5db]">
                <%= f.text_field :zipcode,
                    placeholder: "75001",
                    required: true,
                    pattern: "[0-9]{5}",
                    "aria-describedby": "postal-code-help",
                    class: "relative w-full [font-family:'Inter',Helvetica] font-normal text-[#0a0a0a80] text-base tracking-[-0.31px] leading-[normal] whitespace-nowrap bg-transparent border-0 outline-none" %>
              </div>
              <div class="relative self-stretch w-full">
                <p id="postal-code-help" class="[font-family:'Inter',Helvetica] font-normal text-[#697282] text-xs tracking-[0] leading-4">
                  Utilis√© pour d√©terminer votre zone de vacances scolaires
                </p>
              </div>
            </div>

            <%= f.button type: "submit",
                class: "all-[unset] box-border h-12 rounded-lg [background:linear-gradient(90deg,rgba(43,127,255,1)_0%,rgba(152,16,250,1)_100%)] relative self-stretch w-full cursor-pointer flex items-center justify-center gap-2",
                "aria-label": "Cr√©er ma famille" do %>
              <span class="[font-family:'Inter',Helvetica] font-medium text-white text-sm tracking-[-0.15px] leading-5">
                Cr√©er ma famille
              </span>
              <%= image_tag "https://c.animaapp.com/mhxfchwloC97ck/img/icon-7.svg",
                  class: "w-4 h-4",
                  alt: "",
                  "aria-hidden": "true" %>
            <% end %>
          <% end %>

          <aside class="relative w-full p-4 bg-blue-50 rounded-[10px] border border-solid border-[#bddaff]"
              role="note"
              aria-label="Information importante">
            <p class="[font-family:'Inter',Helvetica] font-normal text-[#193bb8] text-sm tracking-[-0.15px] leading-5">
              ‚ÑπÔ∏è Une seule famille par compte utilisateur
            </p>
          </aside>
        </article>

        <!-- Acc√©der √† ma famille -->
        <article class="flex flex-col w-full items-start gap-8 md:gap-12 p-6 md:p-8 bg-white rounded-[14px] border border-solid border-[#0000001a]">
          <h2 class="relative w-full">
            <span class="block [font-family:'Inter',Helvetica] font-normal text-neutral-950 text-base tracking-[-0.31px] leading-6">
              Acc√©der √† ma famille
            </span>
          </h2>

          <% if current_user && current_user.family %>
            <div class="relative w-full">
              <div class="bg-white rounded-[10px] border border-solid border relative w-full p-4">
                <%= link_to family_path(current_user.family),
                    class: "flex w-full items-center justify-between bg-transparent border-0 cursor-pointer p-0 mb-3" do %>
                  <div class="flex flex-1 items-center gap-3 relative min-w-0">
                    <div class="flex w-10 h-10 flex-shrink-0 items-center justify-center rounded-full [background:linear-gradient(135deg,rgba(5,223,114,1)_0%,rgba(0,166,62,1)_100%)]"
                        aria-hidden="true">
                      <span class="[font-family:'Inter',Helvetica] font-normal text-white text-base tracking-[-0.31px] leading-6">
                        <%= current_user.family.name.first.upcase %>
                      </span>
                    </div>
                    <div class="flex flex-col items-start flex-1 min-w-0">
                      <div class="w-full">
                        <span class="text-[#101727] leading-6 [font-family:'Inter',Helvetica] font-normal text-base tracking-[-0.31px] truncate block">
                          <%= current_user.family.name %>
                        </span>
                      </div>
                      <div class="w-full">
                        <span class="[font-family:'Inter',Helvetica] font-normal text-[#697282] text-sm tracking-[-0.15px] leading-5 truncate block">
                          <%= current_user.email %>
                        </span>
                      </div>
                    </div>
                  </div>
                  <%= image_tag "https://c.animaapp.com/mhxfchwloC97ck/img/icon-17.svg",
                      class: "w-5 h-5 flex-shrink-0",
                      alt: "",
                      "aria-hidden": "true" %>
                <% end %>
                <div class="flex w-full items-center gap-4">
                  <span class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-xs tracking-[0] leading-4"
                      aria-label="Code postal <%= current_user.family.zipcode %>">
                    üìç <%= current_user.family.zipcode %>
                  </span>
                  <span class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-xs tracking-[0] leading-4"
                      aria-label="<%= current_user.family.members.count %> membre(s)">
                    üë• <%= current_user.family.members.count %> membre(s)
                  </span>
                </div>
              </div>
            </div>
          <% else %>
            <div class="relative w-full p-4 bg-gray-50 rounded-[10px] border border-solid border-[#d0d5db]">
              <p class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-sm tracking-[-0.15px] leading-5">
                Aucune famille cr√©√©e pour le moment
              </p>
            </div>
          <% end %>
        </article>
      </section>

      <!-- Features Section -->
      <section class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 w-full"
          aria-label="Fonctionnalit√©s principales">
        <article class="flex flex-col items-start gap-3 p-6 bg-white rounded-[10px] border border-solid border-[#0000001a]">
          <div class="flex items-start w-full">
            <span class="w-full text-3xl md:text-4xl text-center [font-family:'Inter',Helvetica] font-normal text-neutral-950 tracking-[0.40px] leading-9"
                role="img"
                aria-label="Ic√¥ne famille">
              üë®‚Äçüë©‚Äçüëß‚Äçüë¶
            </span>
          </div>
          <h3 class="w-full text-center">
            <span class="[font-family:'Inter',Helvetica] font-normal text-neutral-950 text-base tracking-[-0.31px] leading-6">
              G√©rez votre famille
            </span>
          </h3>
          <div class="w-full">
            <p class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-sm text-center tracking-[-0.15px] leading-5">
              Centralisez les informations de tous les membres
            </p>
          </div>
        </article>

        <article class="flex flex-col items-start gap-3 p-6 bg-white rounded-[10px] border border-solid border-[#0000001a]">
          <div class="flex items-start w-full">
            <span class="w-full text-3xl md:text-4xl text-center [font-family:'Inter',Helvetica] font-normal text-neutral-950 tracking-[0.40px] leading-9"
                role="img"
                aria-label="Ic√¥ne calendrier">
              üìÖ
            </span>
          </div>
          <h3 class="w-full text-center">
            <span class="[font-family:'Inter',Helvetica] font-normal text-neutral-950 text-base tracking-[-0.31px] leading-6">
              Calendrier intelligent
            </span>
          </h3>
          <div class="w-full">
            <p class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-sm text-center tracking-[-0.15px] leading-5">
              Vacances scolaires adapt√©es √† votre zone
            </p>
          </div>
        </article>

        <article class="flex flex-col items-start gap-3 p-6 bg-white rounded-[10px] border border-solid border-[#0000001a]">
          <div class="flex items-start w-full">
            <span class="w-full text-3xl md:text-4xl text-center [font-family:'Inter',Helvetica] font-normal text-neutral-950 tracking-[0.40px] leading-9"
                role="img"
                aria-label="Ic√¥ne vaccin">
              üíâ
            </span>
          </div>
          <h3 class="w-full text-center">
            <span class="[font-family:'Inter',Helvetica] font-normal text-neutral-950 text-base tracking-[-0.31px] leading-6">
              Rappels vaccins
            </span>
          </h3>
          <div class="w-full">
            <p class="[font-family:'Inter',Helvetica] font-normal text-[#495565] text-sm text-center tracking-[-0.15px] leading-5">
              Suivi personnalis√© selon l'√¢ge de chacun
            </p>
          </div>
        </article>
      </section>
    </section>
  </div>
</main>
